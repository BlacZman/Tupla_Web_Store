@page
@model Tupla_Web_Store.Pages.c.IndexModel

@{
    ViewData["Title"] = "Cart";
    Layout = "~/Pages/Shared/_Layout.cshtml";
}
<h1>Your Cart</h1>

@if (Model.piclist.Any())
{
    foreach (var item in Model.piclist)
    {
        <div class="row btn-outline-dark pb-1">
            <div class="col-xl-2">
                <!--Image 16:9 192px * 108px-->
                <a asp-page="../g/Detail" asp-route-id="@item.Key.GameId">
                    <img class="rounded img-fluid" src="@item.Value.picture" asp-append-version="true"
                         style="width:100%;height:90px" />
                </a>
            </div>
            <div class="col-xl-5 my-auto">
                <a class="text-white" asp-page="../g/Detail" asp-route-id="@item.Key.GameId">
                    @Html.DisplayFor(modelItem => item.Key.GameName)
                </a>
            </div>
            <div class="col-xl-3 btn-group my-auto">
                <!--Manipulate price-->
                -%<!--Discount in here-->
                @{ var priceQuantity = item.Key.Price * @item.Value.cartitem.Quantity; }
                @priceQuantity
            </div>

            <div class="col-xl-2 my-auto">
                <form method="post">
                    <input asp-for="@Model.ModifyCart.GameId" value="@item.Value.cartitem.GameId" hidden />
                    <input asp-for="@Model.ModifyCart.PlatformId" value="@item.Value.cartitem.PlatformId" hidden />
                    <input id="quantity" class="col-xl-6" asp-for="@Model.ModifyCart.Quantity"
                           value="@item.Value.cartitem.Quantity" />
                    <button type="submit" class="btn btn-primary">Save</button>
                </form>
            </div>
        </div>
    }
    <a class="btn btn-primary" asp-page="../g/Index">Back to game</a>
}
else
{
    <div class="col-12 m-auto">
        There's none in your cart.
    </div>
    <a class="btn btn-primary" asp-page="../g/Index">Back to game</a>
}

